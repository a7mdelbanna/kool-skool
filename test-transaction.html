<!DOCTYPE html>
<html>
<head>
    <title>Test Transaction Creation</title>
</head>
<body>
    <h1>Create Test Transaction for Today</h1>
    <p>Run this in the browser console to create a transaction for today (September 4, 2025):</p>
    
    <pre>
// Create a test transaction for today in Cairo timezone
async function createTodayTransaction() {
    const { supabase } = await import('@/integrations/supabase/client');
    
    // Get today's date in Cairo timezone (September 4, 2025)
    const today = new Date(2025, 8, 4); // September 4, 2025
    const dateStr = `${today.getFullYear()}-${String(today.getMonth() + 1).padStart(2, '0')}-${String(today.getDate()).padStart(2, '0')}`;
    
    console.log('Creating transaction for:', dateStr);
    
    const { data, error } = await supabase
        .from('transactions')
        .insert({
            school_id: 'sET8oQzDBtk9uREAw2Js',
            type: 'income',
            amount: 5000,
            currency: 'RUB',
            transaction_date: dateStr, // 2025-09-04
            category_id: null,
            payment_method: 'Cash',
            contact_type: 'student',
            contact_id: 'GuNCwvQTjaIvWmZPAaUE',
            notes: 'Test payment for September 4th',
            status: 'completed',
            to_account_id: 'vpzF6DUsWk2YnfqBT6f0' // Tinkoff account
        });
    
    if (error) {
        console.error('Error creating transaction:', error);
    } else {
        console.log('Transaction created successfully:', data);
        console.log('Refresh the page to see it in the finances!');
    }
}

// Run it
createTodayTransaction();
    </pre>
    
    <button onclick="navigator.clipboard.writeText(document.querySelector('pre').textContent)">
        Copy to Clipboard
    </button>
</body>
</html>